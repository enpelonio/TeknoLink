<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Colleges/Departments</title>
    {%load static%}
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" 
    integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <script src="https://use.fontawesome.com/43bd965db5.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/css/bootstrap-datepicker.min.css">
    <link rel="stylesheet" href="https://cdn.datatables.net/1.10.22/css/dataTables.bootstrap4.min.css">
    <link rel="stylesheet" href="https://cdn.datatables.net/buttons/1.6.4/css/buttons.dataTables.min.css">
    <script
    src="https://code.jquery.com/jquery-3.3.1.min.js"
    integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
    crossorigin="anonymous"></script>
    <script src="https://nightly.datatables.net/js/jquery.dataTables.js"></script>
    <link rel="stylesheet" href="{%static 'assets/css/sidebar.css'%}">
    <link rel="stylesheet" href="{% static 'assets/css/viewStudent.css'%}">
    <link rel="stylesheet" href="{% static 'assets/css/communities.css'%}">
    <link rel="stylesheet" href="{% static 'assets/css/createCommunity.css'%}">
    <link rel="stylesheet" href="{% static 'assets/css/activities.css'%}">
</head>
<body>
<div class="wrapper d-flex align-items-stretch ">
    <nav id="sidebar" class="" style="height: 100vh;">
        <div class="custom-menu ">
            <button type="button" id="sidebarCollapse" class="btn btn-primary ">
                <i class="fa fa-bars " style="color: white;"></i>
                <span class="sr-only ">Toggle Menu</span>
            </button>
        </div>
        <div class="p-4 ">
            <div class="d-flex flex-row align-items-stretch ">
                <img src="{%static 'assets/img/navlogo.png'%}" alt=" " height="40 " width="40 " style="margin-right: 20px; ">
                <div>
                    <h5><b> TeknoLink Administrator</b></h5>
                </div>
            </div>
            <hr>
            <br>
            <ul class="list-unstyled components mb-5 ">
                <li>
                    <a href="{% url 'Creator:students_view' %}"><span  class="fa fa-graduation-cap mr-3 "></span> Student</a>
                </li>
                <li>
                    <a href="{% url 'Creator:student_posts_view' %}"><span  class="fa fa-clipboard mr-3 "></span> Student Post</a>
                </li>
                <li>
                    <a href="{% url 'Creator:communities_view' %} "><span class="fa fa-sitemap mr-3 "></span> Community</a>
                </li>
                <li>
                    <a href="{% url 'Creator:skill_skill_category_view' %}"><span class="fa fa-level-up mr-3 "></span> Skill/Category</a>
                </li>
                <li  class="active">
                    <a href="{% url 'Creator:departments_colleges_view' %} "><span class="fa fa-university mr-3 " id="yellow"></span> College/Department</a>
                </li>
                <li>
                    <a href="{% url 'Creator:jobs_companies_view' %}"><span class="fa fa-briefcase mr-3 "></span> Job/Company</a>
                </li>
            </ul>
        </div>
    </nav>
    <div class=" " style="width:100%;">
        <div class="topbaR">
            <div>
                <i class="fa fa-bell-o fa-lg " aria-hidden="true "></i>
            </div>
        </div>
        <div class="parent-container" style="overflow-x: scroll; overflow-y: scroll; height: 100vh;">
            <!--Colleges Table-->
    <div class="container container-communities">
        <div class="row">
            <div class="col-sm-12 col-md-3 p-0">
                <p class="text-center pageTitle p-1">Colleges</p>
            </div>
        </div>
        <div class="row justify-content-end">
            <div class="col-sm-12 col-md-4 mr-5">
                <button type="button" class="float-right" id="addBtn" data-toggle="modal" data-target="#add-skill-modal">Add College</button>
            </div>
        </div>
        <div class="row pl-5 pr-5 mt-2">
            <div class="col-xs-12 col-md-3 col-sm-5">
                <button type="button" id="exportBtn-skill" data-toggle="tooltip" title="Export as PDF File"><i class="fa fa-file-pdf-o icon-export mr-3"></i>Export</button>
            </div>
        </div>
        <div class="row pl-5 pr-5 mt-2">
            <div class="col-12 mt-3">
                <span class="communities-text">Filter By Date Created</span>
            </div>
        </div>
        <div class="row align-content-center pl-5 pr-5">
            <div class="col-sm-3 col-md-3 col-sm-6 mt-3">
                <div class="datepicker date input-group p-0 inputWrapper-communities">
                    <input type="text" placeholder="From" id="fromDate-skill">
                    <div class="input-group-append"><span class="input-group-text"><i class="fa fa-calendar icon-communities"></i></span></div>
                </div>
            </div>
            <div class="col-sm-3 col-md-3 col-sm-6 mt-3">
                <div class="datepicker date input-group p-0 inputWrapper-communities">
                    <input type="text" placeholder="To" id="toDate-skill">
                    <div class="input-group-append"><span class="input-group-text"><i class="fa fa-calendar icon-communities"></i></span></div>
                </div>
            </div>
            <div class="col-sm-0 col-md-2"></div>
            <div class="col-md-4 col-sm-12 mt-3">
                <div class="d-flex align-content-center inputWrapper-communities" id="searchWrapper" >
                    <i class="fa fa-search fa-search-communities icon-communities mr-2 ml-2"></i>
                    <input class="form-input-communities" type="text" id="searchTxb-skill" placeholder="Search">
                </div>
            </div>
        </div>
        <div class="row mt-3 pl-5 pr-5">
            <div class="col-12">
                <div class="table-responsive">
                    <table class="table w-100" id="skill-table">
                        <thead>
                            <tr>
                                <th>Date Created</th>
                                <th>Name</th>
                                <th>Location</th>
                                <th class="text-center">Action</th>
                            </tr>
                        </thead>
                        <tbody>
                            {%for college in colleges%}
                            <tr>
                                <td>{{college.date_created|date:'m-d-Y' }}</td>
                                <td>{{college.name}}</td>
                                <td>{{college.location}}</td>
                                <td><span data-toggle="tooltip" title="Edit"><button type="button" class="column-button edit-button-view-student ml-1 mr-1 mt-1" id="" 
                                    data-toggle="modal" data-target="#edit-{{college.id}}-modal"><i class="fa fa-pencil button-icon-communities"></i></button></span>
                                </td>
                            </tr>
                            {%endfor%}
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
    {%for college in colleges%}
      <!--Edit College Modal-->
      <div class="modal fade" id="edit-{{college.id}}-modal" style="overflow-y: scroll;" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
          <div class="modal-content modal-content-communities">
            <div class="modal-header">
                <h5 class="modal-title text-center labels" id="exampleModalLabel">{{college.name}} Details
                </h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <div class="container">
                    <form class="row row-edit-community" method="POST">
                    {%csrf_token%}
                        <input type="text" value="{{college.id}}" hidden name="college_id">
                        <div class="col-sm-12 col-md-6">
                            <p class="labels">Name</p>
                            <div class="form-item d-flex align-content-center inputWrapper">
                                <input type="text" class="form-input form-input-view-student" value="{{college.name}}" name="college_name">
                            </div>
                        </div>
                        <div class="col-sm-12 mt-3">
                            <p class="labels">Description</p>
                            <div class="form-item inputWrapper">
                                <textarea class="form-input" name="college_description" rows="6">{{college.description}}</textarea>
                            </div>
                        </div>
                        <div class="col-sm-12 col-md-6 mt-3">
                            <p class="labels">Location</p>
                            <div class="form-item d-flex align-content-center inputWrapper">
                                <i class="fa fa-location-arrow fa-2x mr-3 fa-create-community"></i>
                                <input class="form-input" type="text" value="{{college.location}}" name="college_location">
                            </div>
                        </div>
                        <div class="col-12 mt-3">
                            <button class="pageBtn labels float-right" type="submit" name="btnUpdateCollege">Update</button>
                        </div>
                    </form>
                </div>
            </div>
          </div>
        </div>
      </div>
      {%endfor%}
      <!--Add College Modal-->
    <div class="modal fade" id="add-skill-modal" style="overflow-y: scroll;" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
          <div class="modal-content modal-content-communities">
            <div class="modal-header">
                <h5 class="modal-title text-center labels" id="exampleModalLabel">Add a College
                </h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <div class="container">
                    <form class="row row-edit-community" method="POST">
                    {%csrf_token%}
                        <div class="col-sm-12 col-md-6">
                            <p class="labels">Name</p>
                            <div class="form-item d-flex align-content-center inputWrapper">
                                <input type="text" class="form-input form-input-view-student" name="college_name">
                            </div>
                        </div>
                        <div class="col-sm-12 mt-3">
                            <p class="labels">Description</p>
                            <div class="form-item inputWrapper">
                                <textarea class="form-input" name="college_description" rows="6"></textarea>
                            </div>
                        </div>
                        <div class="col-sm-12 col-md-6 mt-3">
                            <p class="labels">Location</p>
                            <div class="form-item d-flex align-content-center inputWrapper">
                                <i class="fa fa-location-arrow fa-2x mr-3 fa-create-community"></i>
                                <input class="form-input" type="text" value="" name="college_location">
                            </div>
                        </div>
                        <div class="col-12 mt-3">
                            <button class="pageBtn labels float-right" type="submit" name="btnCreateCollege">Add</button>
                        </div>
                    </form>
                </div>
            </div>
          </div>
        </div>
      </div>
    <!--Department Table-->
    <div class="container container-communities mb-5">
        <div class="row">
            <div class="col-sm-12 col-md-3 p-0">
                <p class="text-center pageTitle p-1">Departments</p>
            </div>
        </div>
        <div class="row justify-content-end">
            <div class="col-sm-12 col-md-4 mr-5">
                <button type="button" class="float-right" id="addBtn" data-toggle="modal" data-target="#add-milestone-modal">Add Department</button>
            </div>
        </div>
        <div class="row pl-5 pr-5 mt-2">
            <div class="col-xs-12 col-md-3 col-sm-5">
                <button type="button" id="exportBtn-milestone" data-toggle="tooltip" title="Export as PDF File"><i class="fa fa-file-pdf-o icon-export mr-3"></i>Export</button>
            </div>
        </div>
        <div class="row pl-5 pr-5 mt-2">
            <div class="col-12 mt-3">
                <span class="communities-text">Filter By Date Created</span>
            </div>
        </div>
        <div class="row align-content-center pl-5 pr-5">
            <div class="col-sm-3 col-md-3 col-sm-6 mt-3">
                <div class="datepicker date input-group p-0 inputWrapper-communities">
                    <input type="text" placeholder="From" id="fromDate-milestone">
                    <div class="input-group-append"><span class="input-group-text"><i class="fa fa-calendar icon-communities"></i></span></div>
                </div>
            </div>
            <div class="col-sm-3 col-md-3 col-sm-6 mt-3">
                <div class="datepicker date input-group p-0 inputWrapper-communities">
                    <input type="text" placeholder="To" id="toDate-milestone">
                    <div class="input-group-append"><span class="input-group-text"><i class="fa fa-calendar icon-communities"></i></span></div>
                </div>
            </div>
            <div class="col-sm-0 col-md-2"></div>
            <div class="col-md-4 col-sm-12 mt-3">
                <div class="d-flex align-content-center inputWrapper-communities" id="searchWrapper" >
                    <i class="fa fa-search fa-search-communities icon-communities mr-2 ml-2"></i>
                    <input class="form-input-communities" type="text" id="searchTxb-milestone" placeholder="Search">
                </div>
            </div>
            <div class="col-md-6 col-sm-12 mt-3">
                <label for="" class="mr-2"> Show</label>
                <label for="" class="ml-2 mr-2">College:</label>
                <select name="" id="select-type-activities" class="ml-2 mr-2 select-activities">
                    <option value="" selected>All</option>
                    {%for college in colleges%}
                    <option value="{{college.name}}">{{college.name}}</option>
                    {%endfor%}
                </select>
            </div>
        </div>
        <div class="row mt-3 pl-5 pr-5">
            <div class="col-12">
                <div class="table-responsive">
                    <table class="table w-100" id="milestone-table">
                        <thead>
                            <tr>
                                <th>Date Created</th>
                                <th>Name</th>
                                <th>College</th>
                                <th>Action</th>
                            </tr>
                        </thead>
                        <tbody>
                        {%for department in departments%}
                            <tr>
                                <td>{{department.date_created|date:'m-d-Y' }}</td>
                                <td>{{department.name}}</td>
                                <td>{{department.college_id.name}}</td>
                                <td><span data-toggle="tooltip" title="Edit"><button type="button" class="column-button edit-button-view-student ml-1 mr-1 mt-1" id="" 
                                    data-toggle="modal" data-target="#department-{{department.id}}-edit-modal"><i class="fa fa-pencil button-icon-communities"></i></button></span>
                                </td>
                            </tr>
                        {%endfor%}
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
    {%for department in departments%}
      <!--View Department Modal-->
      <div class="modal fade" id="department-{{department.id}}-edit-modal" style="overflow-y: scroll;" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
          <div class="modal-content modal-content-communities">
            <div class="modal-header">
                <h5 class="modal-title text-center labels" id="exampleModalLabel">{{department.name}} Details
                </h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <div class="container">
                    <form class="row row-edit-community" method="POST">
                    {%csrf_token%}
                    <input type="text" value="{{department.id}}" name="department_id" hidden>
                        <div class="col-sm-12 col-md-6 mt-3">
                            <p class="labels">Department Name</p>
                            <div class="form-item d-flex align-content-center inputWrapper">
                                <input class="form-input form-input-view-student" type="text" name="department_name" value="{{department.name}}">
                            </div>
                        </div>
                        <div class="col-sm-12 col-md-6 mt-3">
                            <p class="labels">College</p>
                            <div class="form-item d-flex align-content-center inputWrapper">
                                <select name="college_id" id="" class="w-100 select-create-community">
                                    {%for college in colleges%}
                                    <option value="{{college.id}}" {%if college.name == department.college_id.name%} selected {%endif%}>{{college.name}}</option>
                                    {%endfor%}
                                </select>
                            </div>
                        </div>
                        <div class="col-sm-12 mt-3">
                            <p class="labels">Description</p>
                            <div class="form-item inputWrapper">
                                <textarea class="form-input" name="department_description" rows="6">{{department.description}}</textarea>
                            </div>
                        </div>
                        <div class="col-12 mt-3">
                            <button class="pageBtn labels float-right" type="submit" name="btnUpdateDepartment">Update</button>
                        </div>
                    </form>
                </div>
            </div>
          </div>
        </div>
      </div>
      {%endfor%}
      <!--Add Department Modal-->
    <div class="modal fade" id="add-milestone-modal" style="overflow-y: scroll;" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
          <div class="modal-content modal-content-communities">
            <div class="modal-header">
                <h5 class="modal-title text-center labels" id="exampleModalLabel">Add Department
                </h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <div class="container">
                    <form class="row row-edit-community mt-4" method="POST">
                    {%csrf_token%}
                        <div class="col-sm-12 col-md-6 mt-3">
                            <p class="labels">Department Name</p>
                            <div class="form-item d-flex align-content-center inputWrapper">
                                <input class="form-input form-input-view-student" type="text" value="" name="department_name">
                            </div>
                        </div>
                        <div class="col-sm-12 col-md-6 mt-3">
                            <p class="labels">College</p>
                            <div class="form-item d-flex align-content-center inputWrapper">
                                <select name="college_id" id="" class="w-100 select-create-community">
                                    {%for college in colleges%}
                                    <option value="{{college.id}}">{{college.name}}</option>
                                    {%endfor%}
                                </select>
                            </div>
                        </div>
                        <div class="col-sm-12 mt-3">
                            <p class="labels">Description</p>
                            <div class="form-item inputWrapper">
                                <textarea class="form-input" name="department_description" rows="6"></textarea>
                            </div>
                        </div>
                        <div class="col-12 mt-3">
                            <button class="pageBtn labels float-right" type="submit" name="btnCreateDepartment">Add</button>
                        </div>
                    </form>
                </div>
            </div>
          </div>
        </div>
      </div>
        </div>
      </div>
      </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/js/bootstrap-datepicker.min.js"></script>
    <script src="https://cdn.datatables.net/1.10.22/js/jquery.dataTables.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.36/pdfmake.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.36/vfs_fonts.js"></script>
    <script type="text/javascript" src="https://cdn.datatables.net/v/dt/dt-1.10.22/b-1.6.5/b-html5-1.6.5/datatables.min.js"></script>
    <script src="https://cdn.datatables.net/1.10.22/js/dataTables.bootstrap4.min.js"></script>
    <script src="https://cdn.datatables.net/plug-ins/1.10.21/dataRender/ellipsis.js"></script>
    <script src="{%static 'assets/js/addCommunity.js'%}"></script>
    <script src="{%static 'assets/js/viewStudent.js'%}"></script>
    <script src="{% static 'assets/js/departments-colleges.js'%}"></script>
    <script src="{% static 'assets/js/sidebar.js'%}"></script>
</body>
</html>

